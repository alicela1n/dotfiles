# Stuff for zsh
if [[ -f ~/.zsh/powerlevel10k/powerlevel10k.zsh-theme ]]; then
    source ~/.zsh/powerlevel10k/powerlevel10k.zsh-theme # Use powerlevel10k ZSH prompt
    # To customize prompt, run `p10k configure` or edit ~/.p10k.zsh.
    [[ ! -f ~/.p10k.zsh ]] || source ~/.p10k.zsh
else
    ### PROMPT
    PROMPT='%F{111}%n%f :: %F{46}%m%f %B[%F{177}%5~%f] %F{104}%# '

    ### Git integration
    autoload -Uz vcs_info
    precmd_vcs_info() { vcs_info }
    precmd_functions+=( precmd_vcs_info )
    setopt prompt_subst
    RPROMPT=\$vcs_info_msg_0_
    zstyle ':vcs_info:git:*' formats '%F{99}(%b)%r%f'
    zstyle ':vcs_info:*' enable git
fi

### Configuring zsh history
HISTFILE=~/.zsh/histfile # History file for zsh
HISTSIZE=1000
SAVEHIST=1000
setopt appendhistory autocd
bindkey -e

### Auto Completions
zstyle :compinstall filename '~/.zshrc'
autoload -Uz compinit
compinit


source ~/.zsh/aliases     # aliases
### Plugins go here
fpath=(~/.zsh/zsh-completions/src $fpath)
source ~/.zsh/zsh-autosuggestions/zsh-autosuggestions.zsh
source ~/.zsh/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
if [[ -f /usr/share/doc/pkgfile/command-not-found.zsh ]]; then
    source /usr/share/doc/pkgfile/command-not-found.zsh
fi

# Functions
stfu () {
        "$@" &> /dev/null < /dev/null &
}
